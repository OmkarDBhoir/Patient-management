{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.208.0"},"children":{"PatientManagementDeployment":{"id":"PatientManagementDeployment","path":"PatientManagementDeployment","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.208.0"},"children":{"PatientManagementVPC":{"id":"PatientManagementVPC","path":"PatientManagementDeployment/PatientManagementVPC","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/PatientManagementVPC/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"PatientManagementVPC"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.208.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.0.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet1"}],"vpcId":{"Ref":"PatientManagementVPC522067E7"}}}},"Acl":{"id":"Acl","path":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet1"}],"vpcId":{"Ref":"PatientManagementVPC522067E7"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"PatientManagementVPCPublicSubnet1RouteTableA48D3D3E"},"subnetId":{"Ref":"PatientManagementVPCPublicSubnet1SubnetC8305E9D"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"PatientManagementVPCIGWA0746919"},"routeTableId":{"Ref":"PatientManagementVPCPublicSubnet1RouteTableA48D3D3E"}}}},"EIP":{"id":"EIP","path":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet1"}]}}},"NATGateway":{"id":"NATGateway","path":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["PatientManagementVPCPublicSubnet1EIPC113BD7F","AllocationId"]},"subnetId":{"Ref":"PatientManagementVPCPublicSubnet1SubnetC8305E9D"},"tags":[{"key":"Name","value":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet1"}]}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.208.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.64.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet2"}],"vpcId":{"Ref":"PatientManagementVPC522067E7"}}}},"Acl":{"id":"Acl","path":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet2"}],"vpcId":{"Ref":"PatientManagementVPC522067E7"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"PatientManagementVPCPublicSubnet2RouteTable391C4D34"},"subnetId":{"Ref":"PatientManagementVPCPublicSubnet2Subnet07CEC558"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"PatientManagementVPCIGWA0746919"},"routeTableId":{"Ref":"PatientManagementVPCPublicSubnet2RouteTable391C4D34"}}}},"EIP":{"id":"EIP","path":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet2/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet2"}]}}},"NATGateway":{"id":"NATGateway","path":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet2/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["PatientManagementVPCPublicSubnet2EIP208E0C4A","AllocationId"]},"subnetId":{"Ref":"PatientManagementVPCPublicSubnet2Subnet07CEC558"},"tags":[{"key":"Name","value":"PatientManagementDeployment/PatientManagementVPC/PublicSubnet2"}]}}}}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"PatientManagementDeployment/PatientManagementVPC/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.208.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"PatientManagementDeployment/PatientManagementVPC/PrivateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.128.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"PatientManagementDeployment/PatientManagementVPC/PrivateSubnet1"}],"vpcId":{"Ref":"PatientManagementVPC522067E7"}}}},"Acl":{"id":"Acl","path":"PatientManagementDeployment/PatientManagementVPC/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"PatientManagementDeployment/PatientManagementVPC/PrivateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"PatientManagementDeployment/PatientManagementVPC/PrivateSubnet1"}],"vpcId":{"Ref":"PatientManagementVPC522067E7"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"PatientManagementDeployment/PatientManagementVPC/PrivateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"PatientManagementVPCPrivateSubnet1RouteTableE0FA4385"},"subnetId":{"Ref":"PatientManagementVPCPrivateSubnet1Subnet05B10E79"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"PatientManagementDeployment/PatientManagementVPC/PrivateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"PatientManagementVPCPublicSubnet1NATGatewayB9CF9F92"},"routeTableId":{"Ref":"PatientManagementVPCPrivateSubnet1RouteTableE0FA4385"}}}}}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"PatientManagementDeployment/PatientManagementVPC/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.208.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"PatientManagementDeployment/PatientManagementVPC/PrivateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.192.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"PatientManagementDeployment/PatientManagementVPC/PrivateSubnet2"}],"vpcId":{"Ref":"PatientManagementVPC522067E7"}}}},"Acl":{"id":"Acl","path":"PatientManagementDeployment/PatientManagementVPC/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"PatientManagementDeployment/PatientManagementVPC/PrivateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"PatientManagementDeployment/PatientManagementVPC/PrivateSubnet2"}],"vpcId":{"Ref":"PatientManagementVPC522067E7"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"PatientManagementDeployment/PatientManagementVPC/PrivateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"PatientManagementVPCPrivateSubnet2RouteTableBC0C3BB6"},"subnetId":{"Ref":"PatientManagementVPCPrivateSubnet2Subnet8A2E409C"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"PatientManagementDeployment/PatientManagementVPC/PrivateSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"PatientManagementVPCPublicSubnet2NATGateway28B0784D"},"routeTableId":{"Ref":"PatientManagementVPCPrivateSubnet2RouteTableBC0C3BB6"}}}}}},"IGW":{"id":"IGW","path":"PatientManagementDeployment/PatientManagementVPC/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"PatientManagementVPC"}]}}},"VPCGW":{"id":"VPCGW","path":"PatientManagementDeployment/PatientManagementVPC/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"PatientManagementVPCIGWA0746919"},"vpcId":{"Ref":"PatientManagementVPC522067E7"}}}}}},"AuthServiceDB":{"id":"AuthServiceDB","path":"PatientManagementDeployment/AuthServiceDB","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseInstance","version":"2.208.0","metadata":[]},"children":{"SubnetGroup":{"id":"SubnetGroup","path":"PatientManagementDeployment/AuthServiceDB/SubnetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.SubnetGroup","version":"2.208.0","metadata":[]},"children":{"Default":{"id":"Default","path":"PatientManagementDeployment/AuthServiceDB/SubnetGroup/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBSubnetGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBSubnetGroup","aws:cdk:cloudformation:props":{"dbSubnetGroupDescription":"Subnet group for AuthServiceDB database","subnetIds":[{"Ref":"PatientManagementVPCPrivateSubnet1Subnet05B10E79"},{"Ref":"PatientManagementVPCPrivateSubnet2Subnet8A2E409C"}]}}}}},"SecurityGroup":{"id":"SecurityGroup","path":"PatientManagementDeployment/AuthServiceDB/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/AuthServiceDB/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for AuthServiceDB database","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"PatientManagementVPC522067E7"}}}}}},"Secret":{"id":"Secret","path":"PatientManagementDeployment/AuthServiceDB/Secret","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseSecret","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/AuthServiceDB/Secret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":{"Fn::Join":["",["Generated by the CDK for stack: ",{"Ref":"AWS::StackName"}]]},"generateSecretString":{"passwordLength":30,"secretStringTemplate":"{\"username\":\"admin_user\"}","generateStringKey":"password","excludeCharacters":" %+~`#$&*()|[]{}:;<>?!'/@\"\\"}}}},"Attachment":{"id":"Attachment","path":"PatientManagementDeployment/AuthServiceDB/Secret/Attachment","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.SecretTargetAttachment","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/AuthServiceDB/Secret/Attachment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecretTargetAttachment","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::SecretTargetAttachment","aws:cdk:cloudformation:props":{"secretId":{"Ref":"PatientManagementDeploymentAuthServiceDBSecret41737F5D3fdaad7efa858a3daf9490cf0a702aeb"},"targetId":{"Ref":"AuthServiceDBC6B688BA"},"targetType":"AWS::RDS::DBInstance"}}}}}}},"Resource":{"id":"Resource","path":"PatientManagementDeployment/AuthServiceDB/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBInstance","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBInstance","aws:cdk:cloudformation:props":{"allocatedStorage":"20","copyTagsToSnapshot":true,"dbInstanceClass":"db.t2.micro","dbName":"auth-service-db","dbSubnetGroupName":{"Ref":"AuthServiceDBSubnetGroupCFE5A552"},"engine":"postgres","engineVersion":"17.2","masterUsername":"admin_user","masterUserPassword":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"PatientManagementDeploymentAuthServiceDBSecret41737F5D3fdaad7efa858a3daf9490cf0a702aeb"},":SecretString:password::}}"]]},"storageType":"gp2","vpcSecurityGroups":[{"Fn::GetAtt":["AuthServiceDBSecurityGroupBE6D28EB","GroupId"]}]}}}}},"PatientServiceDB":{"id":"PatientServiceDB","path":"PatientManagementDeployment/PatientServiceDB","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseInstance","version":"2.208.0","metadata":[]},"children":{"SubnetGroup":{"id":"SubnetGroup","path":"PatientManagementDeployment/PatientServiceDB/SubnetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.SubnetGroup","version":"2.208.0","metadata":[]},"children":{"Default":{"id":"Default","path":"PatientManagementDeployment/PatientServiceDB/SubnetGroup/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBSubnetGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBSubnetGroup","aws:cdk:cloudformation:props":{"dbSubnetGroupDescription":"Subnet group for PatientServiceDB database","subnetIds":[{"Ref":"PatientManagementVPCPrivateSubnet1Subnet05B10E79"},{"Ref":"PatientManagementVPCPrivateSubnet2Subnet8A2E409C"}]}}}}},"SecurityGroup":{"id":"SecurityGroup","path":"PatientManagementDeployment/PatientServiceDB/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/PatientServiceDB/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for PatientServiceDB database","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"PatientManagementVPC522067E7"}}}}}},"Secret":{"id":"Secret","path":"PatientManagementDeployment/PatientServiceDB/Secret","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseSecret","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/PatientServiceDB/Secret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":{"Fn::Join":["",["Generated by the CDK for stack: ",{"Ref":"AWS::StackName"}]]},"generateSecretString":{"passwordLength":30,"secretStringTemplate":"{\"username\":\"admin_user\"}","generateStringKey":"password","excludeCharacters":" %+~`#$&*()|[]{}:;<>?!'/@\"\\"}}}},"Attachment":{"id":"Attachment","path":"PatientManagementDeployment/PatientServiceDB/Secret/Attachment","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.SecretTargetAttachment","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/PatientServiceDB/Secret/Attachment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecretTargetAttachment","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::SecretTargetAttachment","aws:cdk:cloudformation:props":{"secretId":{"Ref":"PatientManagementDeploymentPatientServiceDBSecret2B469D4A3fdaad7efa858a3daf9490cf0a702aeb"},"targetId":{"Ref":"PatientServiceDBB84F9BF9"},"targetType":"AWS::RDS::DBInstance"}}}}}}},"Resource":{"id":"Resource","path":"PatientManagementDeployment/PatientServiceDB/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBInstance","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBInstance","aws:cdk:cloudformation:props":{"allocatedStorage":"20","copyTagsToSnapshot":true,"dbInstanceClass":"db.t2.micro","dbName":"patient-service-db","dbSubnetGroupName":{"Ref":"PatientServiceDBSubnetGroupCED49D16"},"engine":"postgres","engineVersion":"17.2","masterUsername":"admin_user","masterUserPassword":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"PatientManagementDeploymentPatientServiceDBSecret2B469D4A3fdaad7efa858a3daf9490cf0a702aeb"},":SecretString:password::}}"]]},"storageType":"gp2","vpcSecurityGroups":[{"Fn::GetAtt":["PatientServiceDBSecurityGroup6B97C0E5","GroupId"]}]}}}}},"AuthServiceDBHealthcheck":{"id":"AuthServiceDBHealthcheck","path":"PatientManagementDeployment/AuthServiceDBHealthcheck","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnHealthCheck","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::HealthCheck","aws:cdk:cloudformation:props":{"healthCheckConfig":{"type":"TCP","failureThreshold":3,"ipAddress":{"Fn::GetAtt":["AuthServiceDBC6B688BA","Endpoint.Address"]},"port":{"Fn::GetAtt":["AuthServiceDBC6B688BA","Endpoint.Port"]},"requestInterval":30}}}},"PatientServiceDBHealthcheck":{"id":"PatientServiceDBHealthcheck","path":"PatientManagementDeployment/PatientServiceDBHealthcheck","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnHealthCheck","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::HealthCheck","aws:cdk:cloudformation:props":{"healthCheckConfig":{"type":"TCP","failureThreshold":3,"ipAddress":{"Fn::GetAtt":["PatientServiceDBB84F9BF9","Endpoint.Address"]},"port":{"Fn::GetAtt":["PatientServiceDBB84F9BF9","Endpoint.Port"]},"requestInterval":30}}}},"MskCluster":{"id":"MskCluster","path":"PatientManagementDeployment/MskCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_msk.CfnCluster","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::MSK::Cluster","aws:cdk:cloudformation:props":{"brokerNodeGroupInfo":{"clientSubnets":[{"Ref":"PatientManagementVPCPrivateSubnet1Subnet05B10E79"},{"Ref":"PatientManagementVPCPrivateSubnet2Subnet8A2E409C"}],"instanceType":"kafka.m5.xlarge","brokerAzDistribution":"DEFAULT"},"clusterName":"kafka-cluster","kafkaVersion":"2.8.0","numberOfBrokerNodes":1}}},"PatientManagementCluster":{"id":"PatientManagementCluster","path":"PatientManagementDeployment/PatientManagementCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/PatientManagementCluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{}}},"DefaultServiceDiscoveryNamespace":{"id":"DefaultServiceDiscoveryNamespace","path":"PatientManagementDeployment/PatientManagementCluster/DefaultServiceDiscoveryNamespace","constructInfo":{"fqn":"aws-cdk-lib.aws_servicediscovery.PrivateDnsNamespace","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/PatientManagementCluster/DefaultServiceDiscoveryNamespace/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_servicediscovery.CfnPrivateDnsNamespace","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ServiceDiscovery::PrivateDnsNamespace","aws:cdk:cloudformation:props":{"name":"patient-management.local","vpc":{"Ref":"PatientManagementVPC522067E7"}}}}}}}},"AuthServiceTassk":{"id":"AuthServiceTassk","path":"PatientManagementDeployment/AuthServiceTassk","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.208.0","metadata":[]},"children":{"TaskRole":{"id":"TaskRole","path":"PatientManagementDeployment/AuthServiceTassk/TaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"PatientManagementDeployment/AuthServiceTassk/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"PatientManagementDeployment/AuthServiceTassk/TaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}}}},"Resource":{"id":"Resource","path":"PatientManagementDeployment/AuthServiceTassk/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":"auth-service","name":"auth-serviceContainer","portMappings":[{"containerPort":4005,"hostPort":4005,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"AuthServiceLogGroup34125B38"},"awslogs-stream-prefix":"auth-service","awslogs-region":{"Ref":"AWS::Region"}}},"environment":[{"name":"SPRING_SQL_INIT_MODE","value":"always"},{"name":"JWT_SECRET","value":"mSgfKdWe3sYhq6rjYbw4nX4h2UhGmZC88CMIse9FfCPXYsOpt0epDzpnyE2JI6KEIo2rRVx0IaMiSIf6p26XuT1DpgNESQoeHjjT8uqWwU8jEvSxZssAyP8e2hjjSSLk16oNTQZlYbNMJhMZM3TpfEuoeqdleWXiHIDjLDPciJpoRBzIlUOMkblkyeb20tUeda1BC0q2bYbELgoePHEpy7qy72SNMsxob2oTJYg5lBvk0Ff7fidXBvtcNNd5kRP8"},{"name":"SPRING_DATASOURCE_URL","value":{"Fn::Join":["",["jdbc:postgres://",{"Fn::GetAtt":["AuthServiceDBC6B688BA","Endpoint.Address"]},":",{"Fn::GetAtt":["AuthServiceDBC6B688BA","Endpoint.Port"]},"/auth-service-db"]]}},{"name":"SPRING_DATASOURCE_PASSWORD","value":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"AuthServiceDBSecretAttachmentF30406A9"},":SecretString:password::}}"]]}},{"name":"SPRING_JPA_HIBERNATE_DDL_AUTO","value":" update"},{"name":"SPRING_DATASOURCE_HIKARI_INITIALIZATION_FAIL_TIMEOUT","value":"6000"},{"name":"SPRING_DATASOURCE_USERNAME","value":"admin_user"},{"name":"SPRING_KAFKA_BOOTSTRAP_SERVERS","value":"localhost.localstack.cloud:4510, localhost.localstack.cloud:4511, localhost.localstack.cloud:4515"}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["AuthServiceTasskExecutionRole71C800F2","Arn"]},"family":"PatientManagementDeploymentAuthServiceTasskF10563F8","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["AuthServiceTasskTaskRole6E5F0954","Arn"]}}}},"auth-serviceContainer":{"id":"auth-serviceContainer","path":"PatientManagementDeployment/AuthServiceTassk/auth-serviceContainer","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.208.0"}},"ExecutionRole":{"id":"ExecutionRole","path":"PatientManagementDeployment/AuthServiceTassk/ExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"PatientManagementDeployment/AuthServiceTassk/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"PatientManagementDeployment/AuthServiceTassk/ExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PatientManagementDeployment/AuthServiceTassk/ExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/AuthServiceTassk/ExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["AuthServiceLogGroup34125B38","Arn"]}}],"Version":"2012-10-17"},"policyName":"AuthServiceTasskExecutionRoleDefaultPolicy15E36C87","roles":[{"Ref":"AuthServiceTasskExecutionRole71C800F2"}]}}}}}}}}},"AuthServiceLogGroup":{"id":"AuthServiceLogGroup","path":"PatientManagementDeployment/AuthServiceLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/AuthServiceLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/auth-service","retentionInDays":1}}}}},"AuthService":{"id":"AuthService","path":"PatientManagementDeployment/AuthService","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.208.0","metadata":[]},"children":{"Service":{"id":"Service","path":"PatientManagementDeployment/AuthService/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"PatientManagementCluster98E10F8D"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"alarms":{"alarmNames":[],"enable":false,"rollback":false}},"enableEcsManagedTags":false,"launchType":"FARGATE","networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Ref":"PatientManagementVPCPrivateSubnet1Subnet05B10E79"},{"Ref":"PatientManagementVPCPrivateSubnet2Subnet8A2E409C"}],"securityGroups":[{"Fn::GetAtt":["AuthServiceSecurityGroup67F2FA7D","GroupId"]}]}},"serviceName":"auth-service","taskDefinition":{"Ref":"AuthServiceTasskB02B259D"}}}},"SecurityGroup":{"id":"SecurityGroup","path":"PatientManagementDeployment/AuthService/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/AuthService/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"PatientManagementDeployment/AuthService/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"PatientManagementVPC522067E7"}}}}}}}},"BillingServiceTassk":{"id":"BillingServiceTassk","path":"PatientManagementDeployment/BillingServiceTassk","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.208.0","metadata":[]},"children":{"TaskRole":{"id":"TaskRole","path":"PatientManagementDeployment/BillingServiceTassk/TaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"PatientManagementDeployment/BillingServiceTassk/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"PatientManagementDeployment/BillingServiceTassk/TaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}}}},"Resource":{"id":"Resource","path":"PatientManagementDeployment/BillingServiceTassk/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":"billing-service","name":"billing-serviceContainer","portMappings":[{"containerPort":4001,"hostPort":4001,"protocol":"tcp"},{"containerPort":9001,"hostPort":9001,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"BillingServiceLogGroupDD61E740"},"awslogs-stream-prefix":"billing-service","awslogs-region":{"Ref":"AWS::Region"}}},"environment":[{"name":"SPRING_KAFKA_BOOTSTRAP_SERVERS","value":"localhost.localstack.cloud:4510, localhost.localstack.cloud:4511, localhost.localstack.cloud:4515"}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["BillingServiceTasskExecutionRoleA2D99D3D","Arn"]},"family":"PatientManagementDeploymentBillingServiceTassk29E457EB","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["BillingServiceTasskTaskRoleC84D91F6","Arn"]}}}},"billing-serviceContainer":{"id":"billing-serviceContainer","path":"PatientManagementDeployment/BillingServiceTassk/billing-serviceContainer","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.208.0"}},"ExecutionRole":{"id":"ExecutionRole","path":"PatientManagementDeployment/BillingServiceTassk/ExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"PatientManagementDeployment/BillingServiceTassk/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"PatientManagementDeployment/BillingServiceTassk/ExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PatientManagementDeployment/BillingServiceTassk/ExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/BillingServiceTassk/ExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["BillingServiceLogGroupDD61E740","Arn"]}}],"Version":"2012-10-17"},"policyName":"BillingServiceTasskExecutionRoleDefaultPolicy11E01B76","roles":[{"Ref":"BillingServiceTasskExecutionRoleA2D99D3D"}]}}}}}}}}},"BillingServiceLogGroup":{"id":"BillingServiceLogGroup","path":"PatientManagementDeployment/BillingServiceLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/BillingServiceLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/billing-service","retentionInDays":1}}}}},"BillingService":{"id":"BillingService","path":"PatientManagementDeployment/BillingService","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.208.0","metadata":[]},"children":{"Service":{"id":"Service","path":"PatientManagementDeployment/BillingService/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"PatientManagementCluster98E10F8D"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"alarms":{"alarmNames":[],"enable":false,"rollback":false}},"enableEcsManagedTags":false,"launchType":"FARGATE","networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Ref":"PatientManagementVPCPrivateSubnet1Subnet05B10E79"},{"Ref":"PatientManagementVPCPrivateSubnet2Subnet8A2E409C"}],"securityGroups":[{"Fn::GetAtt":["BillingServiceSecurityGroup3783AD35","GroupId"]}]}},"serviceName":"billing-service","taskDefinition":{"Ref":"BillingServiceTassk02D5F034"}}}},"SecurityGroup":{"id":"SecurityGroup","path":"PatientManagementDeployment/BillingService/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/BillingService/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"PatientManagementDeployment/BillingService/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"PatientManagementVPC522067E7"}}}}}}}},"AnalyticsServiceTassk":{"id":"AnalyticsServiceTassk","path":"PatientManagementDeployment/AnalyticsServiceTassk","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.208.0","metadata":[]},"children":{"TaskRole":{"id":"TaskRole","path":"PatientManagementDeployment/AnalyticsServiceTassk/TaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"PatientManagementDeployment/AnalyticsServiceTassk/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"PatientManagementDeployment/AnalyticsServiceTassk/TaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}}}},"Resource":{"id":"Resource","path":"PatientManagementDeployment/AnalyticsServiceTassk/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":"analytics-serivce","name":"analytics-serivceContainer","portMappings":[{"containerPort":4002,"hostPort":4002,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"AnalyticsServiceLogGroupBD82F12A"},"awslogs-stream-prefix":"analytics-serivce","awslogs-region":{"Ref":"AWS::Region"}}},"environment":[{"name":"SPRING_KAFKA_BOOTSTRAP_SERVERS","value":"localhost.localstack.cloud:4510, localhost.localstack.cloud:4511, localhost.localstack.cloud:4515"}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["AnalyticsServiceTasskExecutionRoleA6F90F53","Arn"]},"family":"PatientManagementDeploymentAnalyticsServiceTassk4C36ED55","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["AnalyticsServiceTasskTaskRole6576D983","Arn"]}}}},"analytics-serivceContainer":{"id":"analytics-serivceContainer","path":"PatientManagementDeployment/AnalyticsServiceTassk/analytics-serivceContainer","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.208.0"}},"ExecutionRole":{"id":"ExecutionRole","path":"PatientManagementDeployment/AnalyticsServiceTassk/ExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"PatientManagementDeployment/AnalyticsServiceTassk/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"PatientManagementDeployment/AnalyticsServiceTassk/ExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PatientManagementDeployment/AnalyticsServiceTassk/ExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/AnalyticsServiceTassk/ExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["AnalyticsServiceLogGroupBD82F12A","Arn"]}}],"Version":"2012-10-17"},"policyName":"AnalyticsServiceTasskExecutionRoleDefaultPolicyC9FBD756","roles":[{"Ref":"AnalyticsServiceTasskExecutionRoleA6F90F53"}]}}}}}}}}},"AnalyticsServiceLogGroup":{"id":"AnalyticsServiceLogGroup","path":"PatientManagementDeployment/AnalyticsServiceLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/AnalyticsServiceLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/analytics-serivce","retentionInDays":1}}}}},"AnalyticsService":{"id":"AnalyticsService","path":"PatientManagementDeployment/AnalyticsService","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.208.0","metadata":[]},"children":{"Service":{"id":"Service","path":"PatientManagementDeployment/AnalyticsService/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"PatientManagementCluster98E10F8D"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"alarms":{"alarmNames":[],"enable":false,"rollback":false}},"enableEcsManagedTags":false,"launchType":"FARGATE","networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Ref":"PatientManagementVPCPrivateSubnet1Subnet05B10E79"},{"Ref":"PatientManagementVPCPrivateSubnet2Subnet8A2E409C"}],"securityGroups":[{"Fn::GetAtt":["AnalyticsServiceSecurityGroupBA6AE98A","GroupId"]}]}},"serviceName":"analytics-serivce","taskDefinition":{"Ref":"AnalyticsServiceTassk6B36F941"}}}},"SecurityGroup":{"id":"SecurityGroup","path":"PatientManagementDeployment/AnalyticsService/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/AnalyticsService/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"PatientManagementDeployment/AnalyticsService/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"PatientManagementVPC522067E7"}}}}}}}},"PatientServiceTassk":{"id":"PatientServiceTassk","path":"PatientManagementDeployment/PatientServiceTassk","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.208.0","metadata":[]},"children":{"TaskRole":{"id":"TaskRole","path":"PatientManagementDeployment/PatientServiceTassk/TaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"PatientManagementDeployment/PatientServiceTassk/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"PatientManagementDeployment/PatientServiceTassk/TaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}}}},"Resource":{"id":"Resource","path":"PatientManagementDeployment/PatientServiceTassk/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":"patient-service","name":"patient-serviceContainer","portMappings":[{"containerPort":4000,"hostPort":4000,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"PatientServiceLogGroup4A5C3809"},"awslogs-stream-prefix":"patient-service","awslogs-region":{"Ref":"AWS::Region"}}},"environment":[{"name":"BILLING_SERVICE_GRPC_PORT","value":"9001"},{"name":"SPRING_SQL_INIT_MODE","value":"always"},{"name":"SPRING_DATASOURCE_URL","value":{"Fn::Join":["",["jdbc:postgres://",{"Fn::GetAtt":["PatientServiceDBB84F9BF9","Endpoint.Address"]},":",{"Fn::GetAtt":["PatientServiceDBB84F9BF9","Endpoint.Port"]},"/patient-service-db"]]}},{"name":"SPRING_DATASOURCE_PASSWORD","value":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"PatientServiceDBSecretAttachment90D77B03"},":SecretString:password::}}"]]}},{"name":"SPRING_JPA_HIBERNATE_DDL_AUTO","value":" update"},{"name":"SPRING_DATASOURCE_HIKARI_INITIALIZATION_FAIL_TIMEOUT","value":"6000"},{"name":"SPRING_DATASOURCE_USERNAME","value":"admin_user"},{"name":"SPRING_KAFKA_BOOTSTRAP_SERVERS","value":"localhost.localstack.cloud:4510, localhost.localstack.cloud:4511, localhost.localstack.cloud:4515"},{"name":"BILLING_SERVICE_ADDRESS","value":"host.docker.internal"}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["PatientServiceTasskExecutionRole4569731C","Arn"]},"family":"PatientManagementDeploymentPatientServiceTassk27E6F297","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["PatientServiceTasskTaskRole7206EF7E","Arn"]}}}},"patient-serviceContainer":{"id":"patient-serviceContainer","path":"PatientManagementDeployment/PatientServiceTassk/patient-serviceContainer","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.208.0"}},"ExecutionRole":{"id":"ExecutionRole","path":"PatientManagementDeployment/PatientServiceTassk/ExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"PatientManagementDeployment/PatientServiceTassk/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"PatientManagementDeployment/PatientServiceTassk/ExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PatientManagementDeployment/PatientServiceTassk/ExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/PatientServiceTassk/ExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["PatientServiceLogGroup4A5C3809","Arn"]}}],"Version":"2012-10-17"},"policyName":"PatientServiceTasskExecutionRoleDefaultPolicyFC0BF9BB","roles":[{"Ref":"PatientServiceTasskExecutionRole4569731C"}]}}}}}}}}},"PatientServiceLogGroup":{"id":"PatientServiceLogGroup","path":"PatientManagementDeployment/PatientServiceLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/PatientServiceLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/patient-service","retentionInDays":1}}}}},"PatientService":{"id":"PatientService","path":"PatientManagementDeployment/PatientService","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.208.0","metadata":[]},"children":{"Service":{"id":"Service","path":"PatientManagementDeployment/PatientService/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"PatientManagementCluster98E10F8D"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"alarms":{"alarmNames":[],"enable":false,"rollback":false}},"enableEcsManagedTags":false,"launchType":"FARGATE","networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Ref":"PatientManagementVPCPrivateSubnet1Subnet05B10E79"},{"Ref":"PatientManagementVPCPrivateSubnet2Subnet8A2E409C"}],"securityGroups":[{"Fn::GetAtt":["PatientServiceSecurityGroup547BE1F2","GroupId"]}]}},"serviceName":"patient-service","taskDefinition":{"Ref":"PatientServiceTassk2BAC1A81"}}}},"SecurityGroup":{"id":"SecurityGroup","path":"PatientManagementDeployment/PatientService/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/PatientService/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"PatientManagementDeployment/PatientService/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"PatientManagementVPC522067E7"}}}}}}}},"ApiGatewayTasskDefination":{"id":"ApiGatewayTasskDefination","path":"PatientManagementDeployment/ApiGatewayTasskDefination","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.208.0","metadata":[]},"children":{"TaskRole":{"id":"TaskRole","path":"PatientManagementDeployment/ApiGatewayTasskDefination/TaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"PatientManagementDeployment/ApiGatewayTasskDefination/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"PatientManagementDeployment/ApiGatewayTasskDefination/TaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}}}},"Resource":{"id":"Resource","path":"PatientManagementDeployment/ApiGatewayTasskDefination/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":"api-gateway","name":"APIGatewayContainer","portMappings":[{"containerPort":4004,"hostPort":4004,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"ApiGatewayLogGroupA9770429"},"awslogs-stream-prefix":"api-gateway","awslogs-region":{"Ref":"AWS::Region"}}},"environment":[{"name":"SPRING_PROFILE_ACTIVE","value":"prod"},{"name":"AUTH_SERVICE_URL","value":"http://host.docker.internal:4005"}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["ApiGatewayTasskDefinationExecutionRole356FA962","Arn"]},"family":"PatientManagementDeploymentApiGatewayTasskDefination022B2C24","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["ApiGatewayTasskDefinationTaskRole48245C3D","Arn"]}}}},"APIGatewayContainer":{"id":"APIGatewayContainer","path":"PatientManagementDeployment/ApiGatewayTasskDefination/APIGatewayContainer","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.208.0"}},"ExecutionRole":{"id":"ExecutionRole","path":"PatientManagementDeployment/ApiGatewayTasskDefination/ExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"PatientManagementDeployment/ApiGatewayTasskDefination/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"PatientManagementDeployment/ApiGatewayTasskDefination/ExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PatientManagementDeployment/ApiGatewayTasskDefination/ExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/ApiGatewayTasskDefination/ExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ApiGatewayLogGroupA9770429","Arn"]}}],"Version":"2012-10-17"},"policyName":"ApiGatewayTasskDefinationExecutionRoleDefaultPolicy8E1F9714","roles":[{"Ref":"ApiGatewayTasskDefinationExecutionRole356FA962"}]}}}}}}}}},"ApiGatewayLogGroup":{"id":"ApiGatewayLogGroup","path":"PatientManagementDeployment/ApiGatewayLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/ApiGatewayLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/api-gateway","retentionInDays":1}}}}},"APIGatewayService":{"id":"APIGatewayService","path":"PatientManagementDeployment/APIGatewayService","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs_patterns.ApplicationLoadBalancedFargateService","version":"2.208.0"},"children":{"LB":{"id":"LB","path":"PatientManagementDeployment/APIGatewayService/LB","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationLoadBalancer","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/APIGatewayService/LB/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnLoadBalancer","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"scheme":"internet-facing","securityGroups":[{"Fn::GetAtt":["APIGatewayServiceLBSecurityGroup8524BFD1","GroupId"]}],"subnets":[{"Ref":"PatientManagementVPCPublicSubnet1SubnetC8305E9D"},{"Ref":"PatientManagementVPCPublicSubnet2Subnet07CEC558"}],"type":"application"}}},"SecurityGroup":{"id":"SecurityGroup","path":"PatientManagementDeployment/APIGatewayService/LB/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/APIGatewayService/LB/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatically created Security Group for ELB PatientManagementDeploymentAPIGatewayServiceLB66C6C659","securityGroupIngress":[{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":80,"toPort":80,"description":"Allow from anyone on port 80"}],"vpcId":{"Ref":"PatientManagementVPC522067E7"}}}},"to PatientManagementDeploymentAPIGatewayServiceSecurityGroup71586894:4004":{"id":"to PatientManagementDeploymentAPIGatewayServiceSecurityGroup71586894:4004","path":"PatientManagementDeployment/APIGatewayService/LB/SecurityGroup/to PatientManagementDeploymentAPIGatewayServiceSecurityGroup71586894:4004","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupEgress","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupEgress","aws:cdk:cloudformation:props":{"description":"Load balancer to target","destinationSecurityGroupId":{"Fn::GetAtt":["APIGatewayServiceSecurityGroup98F3B93B","GroupId"]},"fromPort":4004,"groupId":{"Fn::GetAtt":["APIGatewayServiceLBSecurityGroup8524BFD1","GroupId"]},"ipProtocol":"tcp","toPort":4004}}}}},"PublicListener":{"id":"PublicListener","path":"PatientManagementDeployment/APIGatewayService/LB/PublicListener","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListener","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/APIGatewayService/LB/PublicListener/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"defaultActions":[{"type":"forward","targetGroupArn":{"Ref":"APIGatewayServiceLBPublicListenerECSGroupF9D8CC70"}}],"loadBalancerArn":{"Ref":"APIGatewayServiceLBDA2B7609"},"port":80,"protocol":"HTTP"}}},"ECSGroup":{"id":"ECSGroup","path":"PatientManagementDeployment/APIGatewayService/LB/PublicListener/ECSGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationTargetGroup","version":"2.208.0"},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/APIGatewayService/LB/PublicListener/ECSGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnTargetGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::TargetGroup","aws:cdk:cloudformation:props":{"port":80,"protocol":"HTTP","targetGroupAttributes":[{"key":"stickiness.enabled","value":"false"}],"targetType":"ip","vpcId":{"Ref":"PatientManagementVPC522067E7"}}}}}}}}}},"LoadBalancerDNS":{"id":"LoadBalancerDNS","path":"PatientManagementDeployment/APIGatewayService/LoadBalancerDNS","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"ServiceURL":{"id":"ServiceURL","path":"PatientManagementDeployment/APIGatewayService/ServiceURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Service":{"id":"Service","path":"PatientManagementDeployment/APIGatewayService/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.208.0","metadata":[]},"children":{"Service":{"id":"Service","path":"PatientManagementDeployment/APIGatewayService/Service/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"PatientManagementCluster98E10F8D"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"alarms":{"alarmNames":[],"enable":false,"rollback":false}},"desiredCount":1,"enableEcsManagedTags":false,"healthCheckGracePeriodSeconds":60,"launchType":"FARGATE","loadBalancers":[{"targetGroupArn":{"Ref":"APIGatewayServiceLBPublicListenerECSGroupF9D8CC70"},"containerName":"APIGatewayContainer","containerPort":4004}],"networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Ref":"PatientManagementVPCPrivateSubnet1Subnet05B10E79"},{"Ref":"PatientManagementVPCPrivateSubnet2Subnet8A2E409C"}],"securityGroups":[{"Fn::GetAtt":["APIGatewayServiceSecurityGroup98F3B93B","GroupId"]}]}},"serviceName":"api-gateway","taskDefinition":{"Ref":"ApiGatewayTasskDefinationB31D74F2"}}}},"SecurityGroup":{"id":"SecurityGroup","path":"PatientManagementDeployment/APIGatewayService/Service/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PatientManagementDeployment/APIGatewayService/Service/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"PatientManagementDeployment/APIGatewayService/Service/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"PatientManagementVPC522067E7"}}}},"from PatientManagementDeploymentAPIGatewayServiceLBSecurityGroup5DD9713C:4004":{"id":"from PatientManagementDeploymentAPIGatewayServiceLBSecurityGroup5DD9713C:4004","path":"PatientManagementDeployment/APIGatewayService/Service/SecurityGroup/from PatientManagementDeploymentAPIGatewayServiceLBSecurityGroup5DD9713C:4004","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Load balancer to target","fromPort":4004,"groupId":{"Fn::GetAtt":["APIGatewayServiceSecurityGroup98F3B93B","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["APIGatewayServiceLBSecurityGroup8524BFD1","GroupId"]},"toPort":4004}}}}}}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}